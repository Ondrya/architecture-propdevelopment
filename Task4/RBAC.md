# RBAC

| Роль                                                | Права роли                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            | Группы пользователей                                                    |
| ------------------------------------------------------- | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------ |
| **cluster-admin** <br />Embeded                   | Полный доступ ко всем ресурсам<br />  и операциям в кластере.<br />Использовать только в случае:<br />- первичная настройка<br />- аварийная ситуация                                                                                                                                                                                                                                                                                                | *k8s-admins* <br />- Lead SRE / DevOps; <br />- минимум участников      |
| **platform-configurer**<br />ClusterRole          | Во всех namespace: create / update / patch / delete<br /><br />Действует на:<br />- Deployments<br />- StatefulSets <br />- DaemonSets<br />- Jobs <br />- CronJobs <br />- Services <br />- Ingress<br />- ConfigMaps<br />- PVC; <br /><br />управлять NetworkPolicy;<br />на уровне кластера: <br />- get / list / watch над Nodes / StorageClasses; <br />- create / update / delete <br />   над Namespaces, ResourceQuota, LimitRange.<br /><br />**Без доступа к Secret и RBAC.** | *platform-team* <br />- DevOps / SRE<br /><br />*настройка кластера     |
| **secops-secrets-reader** <br />ClusterRole      | get / list / watch над Secrets во всех namespace<br />get / list / watch над ConfigMaps / Pods <br />  для мониторинга и расследований                                                                                                                                                                                                                                                                                                                                                                                | *secops* <br />- ИБ / SOC                                                              |
| **domain-admin**<br />Role, namespace-scoped      | Полное управление типовыми объектами<br />приложения *в своём namespace*:<br />над большинством ресурсов;<br /><br />**Без доступа к Secret и RBAC.**                                                                                                                                                                                                                                                                                                             | *{{domain}}-team-leads* <br />- лиды продукта/проекта в домене |
| **domain-developer** <br />Role, namespace-scoped | create / update / patch / delete<br />над Deployments / Services / <br />   Ingress / ConfigMaps / Pods / Jobs;<br />читать логи Pods;<br /><br />**Без доступа к Secret и RBAC.**                                                                                                                                                                                                                                                                                                                                            | *{{domain}}-developers* <br />- разработчики в домене                 |
| **view** <br />Embeded                            | read-only: get / list / watch большинства ресурсов,<br />просмотр логов;<br />**Без доступа к Secret**                                                                                                                                                                                                                                                                                                                                                                                                        | *org-viewers* <br />- аудит / поддержка                                    |

Доменные namespace’ы: `sales`, `tenant` (ЖКУ), `finance`, `data`, а также служебный `platform`.
